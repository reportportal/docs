"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[1226],{68003:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"plugins/authorization/SamlProviders/OktaSaml","title":"Okta SAML","description":"Enable secure single sign-on (SSO) in ReportPortal by integrating with Okta SAML, streamlining user authentication and enhancing access management.","source":"@site/docs/plugins/authorization/SamlProviders/OktaSaml.mdx","sourceDirName":"plugins/authorization/SamlProviders","slug":"/plugins/authorization/SamlProviders/OktaSaml","permalink":"/docs/plugins/authorization/SamlProviders/OktaSaml","draft":false,"unlisted":false,"editUrl":"https://github.com/reportportal/docs/blob/develop/docs/plugins/authorization/SamlProviders/OktaSaml.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"sidebar_label":"Okta SAML","description":"Enable secure single sign-on (SSO) in ReportPortal by integrating with Okta SAML, streamlining user authentication and enhancing access management."},"sidebar":"docs","previous":{"title":"Azure SAML","permalink":"/docs/plugins/authorization/SamlProviders/AzureSaml"},"next":{"title":"Google Workspace SSO","permalink":"/docs/plugins/authorization/SamlProviders/GoogleWorkspaceSso"}}');var a=n(74848),s=n(28453);const r={sidebar_position:3,sidebar_label:"Okta SAML",description:"Enable secure single sign-on (SSO) in ReportPortal by integrating with Okta SAML, streamlining user authentication and enhancing access management."},o="Okta SAML",l={},d=[{value:"Requirements",id:"requirements",level:2},{value:"Configuration Okta",id:"configuration-okta",level:2},{value:"Step 1: Create a new App Integration",id:"step-1-create-a-new-app-integration",level:3},{value:"Go to the Okta dashboard",id:"go-to-the-okta-dashboard",level:4},{value:"Choose integration type",id:"choose-integration-type",level:4},{value:"Fill the general settings",id:"fill-the-general-settings",level:4},{value:"Step 2: Configure SAML",id:"step-2-configure-saml",level:3},{value:"Fill in the SAML settings",id:"fill-in-the-saml-settings",level:4},{value:"Fill in the Attribute Statements",id:"fill-in-the-attribute-statements",level:4},{value:"Provide feedback",id:"provide-feedback",level:4},{value:"Copy metadata URL",id:"copy-metadata-url",level:4},{value:"Step 3: Assign users",id:"step-3-assign-users",level:3},{value:"ReportPortal configuration",id:"reportportal-configuration",level:2},{value:"Step 1: Open the SAML plugin",id:"step-1-open-the-saml-plugin",level:3},{value:"Step 2: Add a new integration",id:"step-2-add-a-new-integration",level:3},{value:"Step 3: Fill in the form",id:"step-3-fill-in-the-form",level:3},{value:"Identity provider name ID",id:"identity-provider-name-id",level:4},{value:"Provider name",id:"provider-name",level:4},{value:"Metadata URL",id:"metadata-url",level:4},{value:"Attribute mapping",id:"attribute-mapping",level:4},{value:"RP callback URL",id:"rp-callback-url",level:4},{value:"Create the integration",id:"create-the-integration",level:4},{value:"Step 4: Test the integration",id:"step-4-test-the-integration",level:3}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components},{MediaViewer:i}=t;return i||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("MediaViewer",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"okta-saml",children:"Okta SAML"})}),"\n",(0,a.jsx)(t.admonition,{type:"important",children:(0,a.jsxs)(t.p,{children:["Before starting, please read about the ",(0,a.jsx)(t.a,{href:"/plugins/authorization/SamlProviders/Overview",children:"SAML provider"}),"."]})}),"\n",(0,a.jsx)(t.p,{children:"This guide will help you to configure the connection between ReportPortal and Okta."}),"\n",(0,a.jsxs)(t.p,{children:["You can use it as high-level steps for reference. To get more information about Okta configuration, read the ",(0,a.jsx)(t.a,{href:"https://developer.okta.com/docs/guides/saml-application-setup/overview/",children:"official documentation"}),"."]}),"\n",(0,a.jsx)(t.p,{children:"SAML plugin is available in ReportPortal on the Plugins page."}),"\n",(0,a.jsx)(t.h2,{id:"requirements",children:"Requirements"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsx)(t.li,{children:"Okta account"}),"\n",(0,a.jsx)(t.li,{children:"ReportPortal instance"}),"\n",(0,a.jsx)(t.li,{children:"Access to the ReportPortal instance and Okta account"}),"\n",(0,a.jsx)(t.li,{children:"Available connection between Okta and ReportPortal"}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"configuration-okta",children:"Configuration Okta"}),"\n",(0,a.jsx)(t.h3,{id:"step-1-create-a-new-app-integration",children:"Step 1: Create a new App Integration"}),"\n",(0,a.jsx)(t.h4,{id:"go-to-the-okta-dashboard",children:"Go to the Okta dashboard"}),"\n",(0,a.jsx)(i,{src:n(51388),alt:"Create a new App Integration"}),"\n",(0,a.jsxs)(t.p,{children:["Click on the ",(0,a.jsx)(t.code,{children:"Applications"})," in the sidebar menu and click on the\n",(0,a.jsx)(t.code,{children:"Create App Integration"})," button."]}),"\n",(0,a.jsx)(t.h4,{id:"choose-integration-type",children:"Choose integration type"}),"\n",(0,a.jsx)(i,{src:n(65113),alt:"Pick SAML 2.0"}),"\n",(0,a.jsxs)(t.p,{children:["Pick ",(0,a.jsx)(t.code,{children:"SAML 2.0"})," and click ",(0,a.jsx)(t.code,{children:"Next"}),"."]}),"\n",(0,a.jsx)(t.h4,{id:"fill-the-general-settings",children:"Fill the general settings"}),"\n",(0,a.jsx)(i,{src:n(92622),alt:"Fill in the App Integration form"}),"\n",(0,a.jsxs)(t.p,{children:["In the ",(0,a.jsx)(t.code,{children:"App name"})," field, enter the application's name. Click ",(0,a.jsx)(t.code,{children:"Next"}),"."]}),"\n",(0,a.jsx)(t.h3,{id:"step-2-configure-saml",children:"Step 2: Configure SAML"}),"\n",(0,a.jsx)(t.h4,{id:"fill-in-the-saml-settings",children:"Fill in the SAML settings"}),"\n",(0,a.jsx)(i,{src:n(28879),alt:"Fill in the SAML settings"}),"\n",(0,a.jsxs)(t.p,{children:["In the ",(0,a.jsx)(t.code,{children:"Single sign-on URL"})," field, enter the following URL:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-url",children:"https://<host>/uat/login/saml2/sso/{providerName}\n"})}),"\n",(0,a.jsx)(t.p,{children:"In the example below, ReportPortal was deployed on the local machine using the following URL:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-url",children:"http://localhost:8080/uat/login/saml2/sso/Okta\n"})}),"\n",(0,a.jsx)(t.p,{children:"for ReportPortal version older than 25.1, you can use the following URL:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-url",children:"https://<host>/uat/saml/sp/SSO/alias/report-portal-sp\n"})}),"\n",(0,a.jsxs)(t.p,{children:["More details about the ACS URL you can find in the ",(0,a.jsx)(t.a,{href:"/plugins/authorization/SamlProviders/Overview#identity-provider-configuration",children:"SAML Overview"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:["In the ",(0,a.jsx)(t.code,{children:"Audience URI (SP Entity ID)"})," field, enter the following identifier:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"report.portal.sp.id\n"})}),"\n",(0,a.jsxs)(t.p,{children:["You can change this identifier when you deploy ReportPortal. More information\nabout the identifier you can find in the ",(0,a.jsx)(t.a,{href:"/plugins/authorization/SamlProviders/Overview#identifier",children:"SAML Overview"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:["In the ",(0,a.jsx)(t.code,{children:"Name ID format"})," field, select ",(0,a.jsx)(t.code,{children:"EmailAddress"}),". You can use the UNSPECIFIED format as well.\nMore information about the Name ID format you can find in the ",(0,a.jsx)(t.a,{href:"/plugins/authorization/SamlProviders/Overview#reportportal-configuration",children:"SAML Overview"}),"."]}),"\n",(0,a.jsx)(t.h4,{id:"fill-in-the-attribute-statements",children:"Fill in the Attribute Statements"}),"\n",(0,a.jsx)(i,{src:n(15778),alt:"Fill in the Attribute Statements"}),"\n",(0,a.jsx)(t.p,{children:"Add the following attributes:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"email"})," with the value ",(0,a.jsx)(t.code,{children:"user.email"})]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"firstName"})," with the value ",(0,a.jsx)(t.code,{children:"user.firstName"})]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"lastName"})," with the value ",(0,a.jsx)(t.code,{children:"user.lastName"})]}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["Click ",(0,a.jsx)(t.code,{children:"Next"}),"."]}),"\n",(0,a.jsx)(t.h4,{id:"provide-feedback",children:"Provide feedback"}),"\n",(0,a.jsx)(i,{src:n(78061),alt:"Provide feedback"}),"\n",(0,a.jsxs)(t.p,{children:["In this case, the 'I'm an Okta customer adding an internal app' option was selected, along with the 'This is an internal app that we have created' option in the ",(0,a.jsx)(t.code,{children:"App type"})," field."]}),"\n",(0,a.jsxs)(t.p,{children:["Click ",(0,a.jsx)(t.code,{children:"Finish"}),"."]}),"\n",(0,a.jsx)(t.h4,{id:"copy-metadata-url",children:"Copy metadata URL"}),"\n",(0,a.jsx)(i,{src:n(9488),alt:"Copy metadata URL"}),"\n",(0,a.jsxs)(t.p,{children:["After the App Integration is created, you will see the ",(0,a.jsx)(t.code,{children:"Settings"})," tab with the\n",(0,a.jsx)(t.code,{children:"Sign on methods"})," section."]}),"\n",(0,a.jsxs)(t.p,{children:["Copy the ' Metadata URL ' in the ",(0,a.jsx)(t.code,{children:"SAML 2.0"})," section. You will need it to\nconfigure the ReportPortal SAML plugin."]}),"\n",(0,a.jsx)(t.h3,{id:"step-3-assign-users",children:"Step 3: Assign users"}),"\n",(0,a.jsx)(i,{src:n(30110),alt:"Assign users to the Okta application"}),"\n",(0,a.jsx)(t.admonition,{type:"note",children:(0,a.jsxs)(t.p,{children:["You can't provision a user from Okta to ReportPortal if you already have\na pre-created internal user in ReportPortal with the same email and a different\nlogin. Read more about ",(0,a.jsx)(t.a,{href:"/plugins/authorization/SamlProviders/Overview#user-jit-provisioning",children:"JIT provisioning"})]})}),"\n",(0,a.jsxs)(t.p,{children:["You can add a user by clicking on the ",(0,a.jsx)(t.code,{children:"Assignments"})," tab and then clicking on\nthe ",(0,a.jsx)(t.code,{children:"Assign"})," button."]}),"\n",(0,a.jsxs)(t.p,{children:["In the case above, a user with the email ",(0,a.jsx)(t.a,{href:"mailto:baba_yaga@continental.com",children:"baba_yaga@continental.com"})," doesn't exist in the deployed ReportPortal instance."]}),"\n",(0,a.jsx)(t.h2,{id:"reportportal-configuration",children:"ReportPortal configuration"}),"\n",(0,a.jsx)(t.h3,{id:"step-1-open-the-saml-plugin",children:"Step 1: Open the SAML plugin"}),"\n",(0,a.jsx)(i,{src:n(27937),alt:"Open the SAML plugin"}),"\n",(0,a.jsxs)(t.p,{children:["Log-in to the ReportPortal by Admin account and go to the ",(0,a.jsx)(t.code,{children:"Administrate"})," -> ",(0,a.jsx)(t.code,{children:"Plugins"})," -> ",(0,a.jsx)(t.code,{children:"SAML"}),"."]}),"\n",(0,a.jsx)(t.h3,{id:"step-2-add-a-new-integration",children:"Step 2: Add a new integration"}),"\n",(0,a.jsx)(i,{src:n(6808),alt:"Add a new integration"}),"\n",(0,a.jsxs)(t.p,{children:["Click on the ",(0,a.jsx)(t.code,{children:"Add integration"})," button."]}),"\n",(0,a.jsx)(t.h3,{id:"step-3-fill-in-the-form",children:"Step 3: Fill in the form"}),"\n",(0,a.jsx)(i,{src:n(52563),alt:"Fill in the form"}),"\n",(0,a.jsx)(t.h4,{id:"identity-provider-name-id",children:"Identity provider name ID"}),"\n",(0,a.jsxs)(t.p,{children:["In the ",(0,a.jsx)(t.code,{children:"Identity provider name ID"})," field, enter the\n",(0,a.jsx)(t.code,{children:"urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress"})," if you chose the\n",(0,a.jsx)(t.code,{children:"EmailAddress"})," format for the ",(0,a.jsx)(t.code,{children:"Name ID format"})," in the Okta configuration.\nIf you choose the ",(0,a.jsx)(t.code,{children:"UNSPECIFIED"})," format, keep this field empty."]}),"\n",(0,a.jsxs)(t.p,{children:["You can find more information about the Name ID format in the\n",(0,a.jsx)(t.a,{href:"/plugins/authorization/SamlProviders/Overview#reportportal-configuration",children:"SAML Overview"})]}),"\n",(0,a.jsx)(t.h4,{id:"provider-name",children:"Provider name"}),"\n",(0,a.jsxs)(t.p,{children:["In the ",(0,a.jsx)(t.code,{children:"Provider name"})," field, enter any name you want, for example ",(0,a.jsx)(t.code,{children:"Okta"}),"."]}),"\n",(0,a.jsx)(t.h4,{id:"metadata-url",children:"Metadata URL"}),"\n",(0,a.jsxs)(t.p,{children:["In the ",(0,a.jsx)(t.code,{children:"Metadata URL"})," field, paste the copied Okta metadata URL."]}),"\n",(0,a.jsx)(t.h4,{id:"attribute-mapping",children:"Attribute mapping"}),"\n",(0,a.jsx)(t.p,{children:"You need to map the attributes from the Okta configuration to the ReportPortal."}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["Enter the ",(0,a.jsx)(t.code,{children:"email"})," attribute name in the 'Email' field."]}),"\n",(0,a.jsxs)(t.li,{children:["In the ",(0,a.jsx)(t.code,{children:"First name"})," field, enter the ",(0,a.jsx)(t.code,{children:"firstName"})," attribute name."]}),"\n",(0,a.jsxs)(t.li,{children:["In the ",(0,a.jsx)(t.code,{children:"Last name"})," field, enter the ",(0,a.jsx)(t.code,{children:"lastName"})," attribute name."]}),"\n"]}),"\n",(0,a.jsx)(t.h4,{id:"rp-callback-url",children:"RP callback URL"}),"\n",(0,a.jsxs)(t.p,{children:["In the ",(0,a.jsx)(t.code,{children:"RP callback URL"})," field, enter the URL:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-url",children:"https://<host>/uat\n"})}),"\n",(0,a.jsxs)(t.p,{children:["In the case below, the following URL was used: ",(0,a.jsx)(t.code,{children:"http://192.168.49.2/uat"}),"."]}),"\n",(0,a.jsx)(t.h4,{id:"create-the-integration",children:"Create the integration"}),"\n",(0,a.jsx)(i,{src:n(13706),alt:"Create the integration"}),"\n",(0,a.jsxs)(t.p,{children:["After you fill in the form and clicked on the ",(0,a.jsx)(t.code,{children:"Create"})," button, you will see the\nnew integration in the list."]}),"\n",(0,a.jsx)(t.h3,{id:"step-4-test-the-integration",children:"Step 4: Test the integration"}),"\n",(0,a.jsx)(i,{src:n(80581),alt:"Test the integration"}),"\n",(0,a.jsxs)(t.p,{children:["Log-out from the ReportPortal and go to login page. You will see the\n",(0,a.jsx)(t.code,{children:"Login with SAML"})," button."]}),"\n",(0,a.jsx)(i,{src:n(97692),alt:"Login with SAML"}),"\n",(0,a.jsx)(t.p,{children:"Click on the button, and you will be redirected to the Okta login page."}),"\n",(0,a.jsx)(i,{src:n(55799),alt:"User JIT provisioning"}),"\n",(0,a.jsxs)(t.p,{children:["After successful login, SAML plugin will create the user to the ReportPortal\nand you can see the user in the ",(0,a.jsx)(t.code,{children:"Users"})," section on the ",(0,a.jsx)(t.code,{children:"Administrate"})," page."]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},51388:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"assets/images/okta-step-1.0-b46391ca80278fc6f81e6236d5510e44.jpg"},65113:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"assets/images/okta-step-1.1-6e649b481b94fc8c2f7c225a7f2963af.jpg"},92622:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"assets/images/okta-step-1.2-52080b60b5f0cff1d7691178e4d074ab.jpg"},28879:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"assets/images/okta-step-2.0-c5d09f7925235cef638aa9ece28ed839.png"},15778:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"assets/images/okta-step-2.1-2acf9165da7d5b279fc00bc6580de960.jpg"},78061:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"assets/images/okta-step-2.2-7dfa864b691821ddd27afd2576f38f20.jpg"},9488:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"assets/images/okta-step-2.3-75778474e4534ed4b5c8c43fd3e3e91c.jpg"},30110:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"assets/images/okta-step-3.0-cdfc72d042d01674f7f3242c6fb0e0f3.jpg"},27937:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"assets/images/okta-step-4.0-cc7d310f72a35d143a94e4ea42883eec.png"},6808:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"assets/images/okta-step-4.1-459a3db73b671419be16349196ba9013.png"},52563:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"assets/images/okta-step-4.2-e5ee69abded0f36a275fd68d11096a71.png"},13706:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"assets/images/okta-step-4.3-c5f6ce08307a80d274fae9f2fbd31e19.png"},80581:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"assets/images/okta-step-4.4-390e156b8589420df0c5d1350fe4d409.png"},97692:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"assets/images/okta-step-4.5-4be3a0006211dac2b373a28b8e524290.png"},55799:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"assets/images/okta-step-4.6-b9e90263c51613f831e6f216b1256bab.png"},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>o});var i=n(96540);const a={},s=i.createContext(a);function r(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);