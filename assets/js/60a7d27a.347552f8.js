"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[89623],{95190:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"plugins/authorization/SamlProviders/Overview","title":"SAML Overview","description":"This plugin allows you to configure a connection with a SAML provider.","source":"@site/docs/plugins/authorization/SamlProviders/Overview.mdx","sourceDirName":"plugins/authorization/SamlProviders","slug":"/plugins/authorization/SamlProviders/Overview","permalink":"/docs/plugins/authorization/SamlProviders/Overview","draft":false,"unlisted":false,"editUrl":"https://github.com/reportportal/docs/blob/develop/docs/plugins/authorization/SamlProviders/Overview.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Overview","sidebar_position":1},"sidebar":"docs","previous":{"title":"SAML Providers","permalink":"/docs/plugins/authorization/SamlProviders/"},"next":{"title":"Azure SAML","permalink":"/docs/plugins/authorization/SamlProviders/AzureSaml"}}');var t=n(74848),a=n(28453);const s={sidebar_label:"Overview",sidebar_position:1},o="SAML Overview",l={},d=[{value:"User JIT provisioning",id:"user-jit-provisioning",level:2},{value:"SAML provider requirements",id:"saml-provider-requirements",level:2},{value:"Add integration",id:"add-integration",level:2},{value:"Set up connection",id:"set-up-connection",level:2},{value:"Identity provider configuration",id:"identity-provider-configuration",level:3},{value:"ReportPortal Assertion Consumer Service URL (ACS URL)",id:"reportportal-assertion-consumer-service-url-acs-url",level:4},{value:"Identifier",id:"identifier",level:4},{value:"Custom attributes",id:"custom-attributes",level:4},{value:"Service provider initial URL (SP-Initiated SSO)",id:"service-provider-initial-url-sp-initiated-sso",level:4},{value:"ReportPortal configuration",id:"reportportal-configuration",level:3}];function c(e){const i={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components},{MediaViewer:r}=i;return r||function(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("MediaViewer",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"saml-overview",children:"SAML Overview"})}),"\n",(0,t.jsx)(i.p,{children:"This plugin allows you to configure a connection with a SAML provider."}),"\n",(0,t.jsx)(i.p,{children:"Integration with SAML will allow you to log in to ReportPortal using SSO\ninstead of tedious manual user creation."}),"\n",(0,t.jsx)(i.p,{children:"The plugin provides a mechanism for exchanging information between ReportPortal\nand the SAML provider, such as the possibility of logging in to ReportPortal\nwith SAML credentials."}),"\n",(0,t.jsx)(i.h2,{id:"user-jit-provisioning",children:"User JIT provisioning"}),"\n",(0,t.jsx)(i.admonition,{type:"note",children:(0,t.jsx)(i.p,{children:"If you have a pre-created Internal user, you can't login by SAML using their\ncredentials (Email or Name)."})}),"\n",(0,t.jsx)(i.p,{children:"Just-in-time (JIT) provisioning is a feature that creates a user account in\nReportPortal when a user logs in for the first time. This feature is available\nfor SAML integrations."}),"\n",(0,t.jsxs)(i.p,{children:["However, you can't provision a user from SAML Provider to ReportPortal if you\nalready have a pre-created internal user in ReportPortal with the same email\nand different login. The login must be the email name without the domain part.\nFor instance, if the email is ",(0,t.jsx)(i.code,{children:"john_weak@babayaga.com"})," the login should be\n",(0,t.jsx)(i.code,{children:"john_weak"}),".\nIn the opposite case, the user cannot log in to ReportPortal.\nYou can fix it by changing the login name or email or deleting the user from\nthe ReportPortal."]}),"\n",(0,t.jsx)(i.h2,{id:"saml-provider-requirements",children:"SAML provider requirements"}),"\n",(0,t.jsx)(i.admonition,{type:"tip",children:(0,t.jsxs)(i.p,{children:["There are detailed manuals for the configuration of\n",(0,t.jsx)(i.a,{href:"/plugins/authorization/SamlProviders/AzureSaml",children:"Azure SAML"}),"\nand ",(0,t.jsx)(i.a,{href:"/plugins/authorization/SamlProviders/OktaSaml",children:"Okta SAML"}),"."]})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"SAML 2.0 version"}),"\n",(0,t.jsx)(i.li,{children:"HTTP-POST Binding"}),"\n",(0,t.jsxs)(i.li,{children:["URL to download ",(0,t.jsx)(i.a,{href:"https://en.wikipedia.org/wiki/SAML_metadata#Identity_provider_metadata",children:"SAML IdP Metadata"})]}),"\n",(0,t.jsx)(i.li,{children:"HTTPS connection for SAML Metadata"}),"\n",(0,t.jsxs)(i.li,{children:["Support SAML attributes:","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"email"}),"\n",(0,t.jsx)(i.li,{children:"first name"}),"\n",(0,t.jsx)(i.li,{children:"last name"}),"\n",(0,t.jsx)(i.li,{children:"full name (instead of first and last name)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"add-integration",children:"Add integration"}),"\n",(0,t.jsx)(i.p,{children:"ReportPortal contains the SAML Plugin by default."}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Go to ",(0,t.jsx)(i.code,{children:"Administration"})," -> ",(0,t.jsx)(i.code,{children:"Plugins"})," -> ",(0,t.jsx)(i.code,{children:"SAML"})]}),"\n",(0,t.jsxs)(i.li,{children:["Select ",(0,t.jsx)(i.code,{children:"Add integration"}),"."]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"set-up-connection",children:"Set up connection"}),"\n",(0,t.jsx)(i.h3,{id:"identity-provider-configuration",children:"Identity provider configuration"}),"\n",(0,t.jsx)(i.h4,{id:"reportportal-assertion-consumer-service-url-acs-url",children:"ReportPortal Assertion Consumer Service URL (ACS URL)"}),"\n",(0,t.jsx)(i.p,{children:"You have to provide a URL for a SAML provider to deliver SAML data to the\nidentity federation."}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-url",children:"https://<host>/uat/saml/sp/SSO/alias/report-portal-sp\n"})}),"\n",(0,t.jsx)(i.h4,{id:"identifier",children:"Identifier"}),"\n",(0,t.jsxs)(i.p,{children:["Set up identifier (aka Audience Restriction, aka Entity ID) for application as\n",(0,t.jsx)(i.code,{children:"report.portal.sp.id"}),".\nWhen you deploy the authorization service, you can specify your entity ID using\nthe environment variable ",(0,t.jsx)(i.code,{children:"RP_AUTH_SAML_ENTITYID"}),"."]}),"\n",(0,t.jsx)(i.h4,{id:"custom-attributes",children:"Custom attributes"}),"\n",(0,t.jsx)(i.p,{children:"The IDp app user profile must provide attributes like this:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"- user.email\n- user.firstName\n- user.lastName\n"})}),"\n",(0,t.jsx)(i.p,{children:"Also, Make sure there is a mapping created according to the values that you use\nin the ReportPortal SAML plugin like this:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"- user.email -> Email\n- user.firstName -> FirstName\n- user.lastName -> LastName\n"})}),"\n",(0,t.jsx)(i.h4,{id:"service-provider-initial-url-sp-initiated-sso",children:"Service provider initial URL (SP-Initiated SSO)"}),"\n",(0,t.jsx)(i.p,{children:"Some Identity Providers can request a URL for the initial login page. You can\nprovide the URL to the ReportPortal login page."}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-url",children:"https://<host>/ui/#login\n"})}),"\n",(0,t.jsx)(i.h3,{id:"reportportal-configuration",children:"ReportPortal configuration"}),"\n",(0,t.jsx)(r,{src:n(40492),alt:"SAML plugin\nconfiguration to integrate with our qa automation dashboard"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.em,{children:(0,t.jsx)(i.strong,{children:"Identity provider name ID (Optional)"})})}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Identity provider name ID"})," (aka name identifier formats) controls how the\nusers at identity providers are mapped to users at service providers."]}),"\n",(0,t.jsx)(i.p,{children:"We support the following formats:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"UNSPECIFIED"})," - used by default"]}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-urn",children:"urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified\n"})}),"\n",(0,t.jsxs)(i.ol,{start:"2",children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"EMAIL"})}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-urn",children:"urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress\n"})}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.em,{children:(0,t.jsx)(i.strong,{children:"Provider name"})})," - Provider name associated with IDP."]}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.em,{children:(0,t.jsx)(i.strong,{children:"Metadata URL"})})," - URL that provides data with information about SAML Provider."]}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.em,{children:(0,t.jsx)(i.strong,{children:"Email"})})," - Attribute name from SAML metadata which contains an user email."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-xml",children:'<saml:Attribute Name="Email" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri">\n   <saml:AttributeValue xsi:type="xs:string">neuromancer@cyberspace.net</saml:AttributeValue>\n </saml:Attribute>\n'})}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.em,{children:(0,t.jsx)(i.strong,{children:"ReportPortal Callback URL"})})," - This field provides a redirect base path."]}),"\n",(0,t.jsx)(i.p,{children:'Once you submit an integration with the "RP callback URL," the URL will be\napplied to all SAML integrations.'}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-url",children:"https://<host>/uat\n"})}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.em,{children:(0,t.jsx)(i.strong,{children:"First name"})})," - Attribute name from SAML metadata which contains an user first/given name."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-xml",children:'<saml:Attribute Name="FirstName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri">\n<saml:AttributeValue xsi:type="xs:string">William</saml:AttributeValue>\n</saml:Attribute>\n'})}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.em,{children:(0,t.jsx)(i.strong,{children:"Last name"})})," - Attribute name from SAML metadata which contains an user last/family name."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-xml",children:'<saml:Attribute Name="LastName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri">\n<saml:AttributeValue xsi:type="xs:string">Gibson</saml:AttributeValue>\n</saml:Attribute>\n'})}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.em,{children:(0,t.jsx)(i.strong,{children:"Full name"})})," - Attribute name from SAML metadata which contains a full user name. You can use either two separate attributes for first name and last name or a combined first and last name attribute. This solely depends on your SAML provider."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-xml",children:'<saml:Attribute Name="FullName" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri">\n<saml:AttributeValue xsi:type="xs:string">William Gibson</saml:AttributeValue>\n</saml:Attribute>\n'})})]})}function u(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},40492:(e,i,n)=>{n.r(i),n.d(i,{default:()=>r});const r=n.p+"assets/images/SAMLPlugin-6444da5543c5fcdb3a7fdd0d5013136d.png"}}]);