"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[1151],{15826:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"installation-steps-advanced/file-storage-options/index","title":"File storage options","description":"Configure file storage options for ReportPortal including filesystem, MinIO, and cloud storage solutions.","source":"@site/docs/installation-steps-advanced/file-storage-options/index.md","sourceDirName":"installation-steps-advanced/file-storage-options","slug":"/installation-steps-advanced/file-storage-options/","permalink":"/docs/installation-steps-advanced/file-storage-options/","draft":false,"unlisted":false,"editUrl":"https://github.com/reportportal/docs/blob/develop/docs/installation-steps-advanced/file-storage-options/index.md","tags":[],"version":"current","frontMatter":{"sidebar_label":"File storage options","description":"Configure file storage options for ReportPortal including filesystem, MinIO, and cloud storage solutions."},"sidebar":"docs","previous":{"title":"Migrate one instance to another","permalink":"/docs/installation-steps-advanced/MigrateOneInstanceToAnother"},"next":{"title":"S3 Cloud Storage","permalink":"/docs/installation-steps-advanced/file-storage-options/S3CloudStorage"}}');var o=n(74848),i=n(28453);const r={sidebar_label:"File storage options",description:"Configure file storage options for ReportPortal including filesystem, MinIO, and cloud storage solutions."},a="File storage options",l={},c=[{value:"Storage Types",id:"storage-types",level:2},{value:"1. Multi-bucket (default)",id:"1-multi-bucket-default",level:3},{value:"2. Single-bucket",id:"2-single-bucket",level:3},{value:"Filesystem",id:"filesystem",level:2},{value:"MinIO",id:"minio",level:2},{value:"Cloud Storage",id:"cloud-storage",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"file-storage-options",children:"File storage options"})}),"\n",(0,o.jsx)(t.p,{children:"ReportPortal supports two types of storage structures:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Multi-bucket"}),"\n",(0,o.jsx)(t.li,{children:"Single-bucket"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"Additionally, ReportPortal can store data in various locations:"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"Filesystem (default for Docker)"}),"\n",(0,o.jsx)(t.li,{children:"MinIO (default for Kubernetes)"}),"\n",(0,o.jsx)(t.li,{children:"Cloud Storage"}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"storage-types",children:"Storage Types"}),"\n",(0,o.jsx)(t.h3,{id:"1-multi-bucket-default",children:"1. Multi-bucket (default)"}),"\n",(0,o.jsx)(t.p,{children:"Each project has its own bucket. This is the default option; however, it is not recommended for environments using Cloud Object Storage such as Amazon S3. It has a list structure."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"integration-secrets # Authorization bucket\nprj-1               # Project buckets\nprj-2     \nrp-bucket           # Plugins bucket\nuser-data           # Users bucket\n"})}),"\n",(0,o.jsx)(t.h3,{id:"2-single-bucket",children:"2. Single-bucket"}),"\n",(0,o.jsx)(t.p,{children:"All projects share the same bucket. This is the recommended option for environments using Cloud Object Storage such as Amazon S3. It has a tree-like structure."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"rp-bucket                   # Main bucket\n    \u251c\u2500\u2500 integration-secrets # Authorization sub-directory\n    \u251c\u2500\u2500 plugins             # Plugins sub-directory\n    \u251c\u2500\u2500 project-data        # Projects sub-directory\n    \u2502   \u251c\u2500\u2500 1\n    \u2502   \u2514\u2500\u2500 2\n    \u2514\u2500\u2500 user-data           # Users sub-directory        \n"})}),"\n",(0,o.jsx)(t.admonition,{type:"important",children:(0,o.jsxs)(t.p,{children:["Migration from Multi-bucket to Single-bucket is required. Please refer to the ",(0,o.jsx)(t.a,{href:"https://github.com/reportportal/migrations-complex/tree/develop/charts",children:"Complex Migration Guide"})," for more information. A fresh start from Single-bucket is recommended."]})}),"\n",(0,o.jsxs)(t.p,{children:["To configure the storage to Single-bucket, ReportPortal uses the following environment variables for the services ",(0,o.jsx)(t.strong,{children:"API"}),", ",(0,o.jsx)(t.strong,{children:"Jobs"}),", and ",(0,o.jsx)(t.strong,{children:"Authorization"}),":"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"RP_FEATURE_FLAGS: singleBucket          # Enable single-bucket storage\nDATASTORE_DEFAULTBUCKETNAME: my-bucket  # Name of the bucket\n"})}),"\n",(0,o.jsx)(t.h2,{id:"filesystem",children:"Filesystem"}),"\n",(0,o.jsx)(t.p,{children:"The local filesystem is the default storage option for the Docker-based ReportPortal solution. It is simple to configure and use but is not recommended for production environments because it is not scalable and does not provide shareability between multiple instances or nodes."}),"\n",(0,o.jsxs)(t.p,{children:["To configure filesystem storage, ReportPortal uses the following environment variables for the services ",(0,o.jsx)(t.strong,{children:"API"}),", ",(0,o.jsx)(t.strong,{children:"Jobs"}),", and ",(0,o.jsx)(t.strong,{children:"Authorization"}),":"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"DATASTORE_TYPE: filesystem\n"})}),"\n",(0,o.jsx)(t.p,{children:"Additionally, you can specify the path to the storage directory:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"DATASTORE_PATH: /data/storage\n"})}),"\n",(0,o.jsx)(t.h2,{id:"minio",children:"MinIO"}),"\n",(0,o.jsx)(t.p,{children:"MinIO is an open-source object storage server that is compatible with Amazon S3. It is designed for cloud-native workloads and optimized for high performance and scalability."}),"\n",(0,o.jsxs)(t.p,{children:["To configure storage using MinIO, ReportPortal uses the following environment variables for the services ",(0,o.jsx)(t.strong,{children:"API"}),", ",(0,o.jsx)(t.strong,{children:"Jobs"}),", and ",(0,o.jsx)(t.strong,{children:"Authorization"}),":"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"DATASTORE_TYPE: s3-compatible\nDATASTORE_ACCESSKEY: <access_key>\nDATASTORE_SECRETKEY: <secret_key>\nDATASTORE_ENDPOINT: http://minio:9000\n"})}),"\n",(0,o.jsx)(t.h2,{id:"cloud-storage",children:"Cloud Storage"}),"\n",(0,o.jsxs)(t.p,{children:["To set up Amazon S3 Cloud Storage with IAM user (secret keys) or IAM role, follow our ",(0,o.jsx)(t.a,{href:"/installation-steps-advanced/file-storage-options/S3CloudStorage",children:"Advanced S3 Integration Guide"}),"."]})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var s=n(96540);const o={},i=s.createContext(o);function r(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);