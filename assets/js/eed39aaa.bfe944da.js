"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[80110],{33712:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"installation-steps-advanced/FileStorageOptions","title":"File storage options","description":"ReportPortal supports two types of storage structures:","source":"@site/docs/installation-steps-advanced/FileStorageOptions.md","sourceDirName":"installation-steps-advanced","slug":"/installation-steps-advanced/FileStorageOptions","permalink":"/docs/installation-steps-advanced/FileStorageOptions","draft":false,"unlisted":false,"editUrl":"https://github.com/reportportal/docs/blob/develop/docs/installation-steps-advanced/FileStorageOptions.md","tags":[],"version":"current","sidebarPosition":12,"frontMatter":{"sidebar_position":12,"sidebar_label":"File storage options"},"sidebar":"docs","previous":{"title":"Migrate one instance to another","permalink":"/docs/installation-steps-advanced/MigrateOneInstanceToAnother"},"next":{"title":"Scaling ReportPortal services","permalink":"/docs/installation-steps-advanced/ScalingReportPortalServices"}}');var o=t(74848),i=t(28453);const r={sidebar_position:12,sidebar_label:"File storage options"},a="File storage options",l={},c=[{value:"Storage Types",id:"storage-types",level:2},{value:"1. Multi-bucket (default)",id:"1-multi-bucket-default",level:3},{value:"2. Single-bucket",id:"2-single-bucket",level:3},{value:"Filesystem",id:"filesystem",level:2},{value:"MinIO",id:"minio",level:2},{value:"Cloud Storage",id:"cloud-storage",level:2},{value:"1. Amazon S3",id:"1-amazon-s3",level:3},{value:"2. Amazon Elastic File System (EFS)",id:"2-amazon-elastic-file-system-efs",level:3}];function d(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.header,{children:(0,o.jsx)(s.h1,{id:"file-storage-options",children:"File storage options"})}),"\n",(0,o.jsx)(s.p,{children:"ReportPortal supports two types of storage structures:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:"Multi-bucket"}),"\n",(0,o.jsx)(s.li,{children:"Single-bucket"}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:"Additionally, ReportPortal can store data in various locations:"}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsx)(s.li,{children:"Filesystem (default for Docker)"}),"\n",(0,o.jsx)(s.li,{children:"MinIO (default for Kubernetes)"}),"\n",(0,o.jsx)(s.li,{children:"Cloud Storage"}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"storage-types",children:"Storage Types"}),"\n",(0,o.jsx)(s.h3,{id:"1-multi-bucket-default",children:"1. Multi-bucket (default)"}),"\n",(0,o.jsx)(s.p,{children:"Each project has its own bucket. This is the default option; however, it is not recommended for environments using Cloud Object Storage such as Amazon S3. It has a list structure."}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"integration-secrets # Authorization bucket\nprj-1               # Project buckets\nprj-2     \nrp-bucket           # Plugins bucket\nuser-data           # Users bucket\n"})}),"\n",(0,o.jsx)(s.h3,{id:"2-single-bucket",children:"2. Single-bucket"}),"\n",(0,o.jsx)(s.p,{children:"All projects share the same bucket. This is the recommended option for environments using Cloud Object Storage such as Amazon S3. It has a tree-like structure."}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"rp-bucket                   # Main bucket\n    \u251c\u2500\u2500 integration-secrets # Authorization sub-directory\n    \u251c\u2500\u2500 plugins             # Plugins sub-directory\n    \u251c\u2500\u2500 project-data        # Projects sub-directory\n    \u2502   \u251c\u2500\u2500 1\n    \u2502   \u2514\u2500\u2500 2\n    \u2514\u2500\u2500 user-data           # Users sub-directory        \n"})}),"\n",(0,o.jsx)(s.admonition,{type:"important",children:(0,o.jsxs)(s.p,{children:["Migration from Multi-bucket to Single-bucket is required. Please refer to the ",(0,o.jsx)(s.a,{href:"https://github.com/reportportal/migrations-complex/tree/develop/charts",children:"Complex Migration Guide"})," for more information. A fresh start from Single-bucket is recommended."]})}),"\n",(0,o.jsxs)(s.p,{children:["To configure the storage to Single-bucket, ReportPortal uses the following environment variables for the services ",(0,o.jsx)(s.strong,{children:"API"}),", ",(0,o.jsx)(s.strong,{children:"Jobs"}),", and ",(0,o.jsx)(s.strong,{children:"Authorization"}),":"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"RP_FEATURE_FLAGS: singleBucket          # Enable single-bucket storage\nDATASTORE_DEFAULTBUCKETNAME: my-bucket  # Name of the bucket\n"})}),"\n",(0,o.jsx)(s.h2,{id:"filesystem",children:"Filesystem"}),"\n",(0,o.jsx)(s.p,{children:"The local filesystem is the default storage option for the Docker-based ReportPortal solution. It is simple to configure and use but is not recommended for production environments because it is not scalable and does not provide shareability between multiple instances or nodes."}),"\n",(0,o.jsxs)(s.p,{children:["To configure filesystem storage, ReportPortal uses the following environment variables for the services ",(0,o.jsx)(s.strong,{children:"API"}),", ",(0,o.jsx)(s.strong,{children:"Jobs"}),", and ",(0,o.jsx)(s.strong,{children:"Authorization"}),":"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"DATASTORE_TYPE: filesystem\n"})}),"\n",(0,o.jsx)(s.p,{children:"Additionally, you can specify the path to the storage directory:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"DATASTORE_PATH: /data/storage\n"})}),"\n",(0,o.jsx)(s.h2,{id:"minio",children:"MinIO"}),"\n",(0,o.jsx)(s.p,{children:"MinIO is an open-source object storage server that is compatible with Amazon S3. It is designed for cloud-native workloads and optimized for high performance and scalability."}),"\n",(0,o.jsxs)(s.p,{children:["To configure storage using MinIO, ReportPortal uses the following environment variables for the services ",(0,o.jsx)(s.strong,{children:"API"}),", ",(0,o.jsx)(s.strong,{children:"Jobs"}),", and ",(0,o.jsx)(s.strong,{children:"Authorization"}),":"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"DATASTORE_TYPE: minio\nDATASTORE_ACCESSKEY: <access_key>\nDATASTORE_SECRETKEY: <secret_key>\nDATASTORE_ENDPOINT: http://minio:9000\n"})}),"\n",(0,o.jsx)(s.h2,{id:"cloud-storage",children:"Cloud Storage"}),"\n",(0,o.jsxs)(s.p,{children:["ReportPortal supports cloud storage options through the Java library ",(0,o.jsx)(s.a,{href:"https://jclouds.apache.org/",children:"JCLOUDS"}),"."]}),"\n",(0,o.jsx)(s.p,{children:"The supported cloud storage options are:"}),"\n",(0,o.jsx)(s.h3,{id:"1-amazon-s3",children:"1. Amazon S3"}),"\n",(0,o.jsxs)(s.p,{children:["To configure storage using Amazon S3, ReportPortal uses the following environment variables for the services ",(0,o.jsx)(s.strong,{children:"API"}),", ",(0,o.jsx)(s.strong,{children:"Jobs"}),", and ",(0,o.jsx)(s.strong,{children:"Authorization"}),":"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-bash",children:"RP_FEATURE_FLAGS: singleBucket          # Enable single-bucket storage (recommended)\nDATASTORE_TYPE: s3\nDATASTORE_REGION: us-east-1             # Region of the bucket (also referred to as `us-standard`)\nDATASTORE_ACCESSKEY: <access_key>\nDATASTORE_SECRETKEY: <secret_key>\nDATASTORE_DEFAULTBUCKETNAME: my-bucket  # Name of the bucket\n"})}),"\n",(0,o.jsx)(s.h3,{id:"2-amazon-elastic-file-system-efs",children:"2. Amazon Elastic File System (EFS)"}),"\n",(0,o.jsx)(s.p,{children:"A guide for configuring storage with Amazon EFS will be available soon."})]})}function u(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);