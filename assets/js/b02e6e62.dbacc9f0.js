"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[70038],{55667:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>a});var s=r(85893),n=r(11151);const i={},d="Retries reporting",o={id:"dev-guides/RetriesReporting",title:"Retries reporting",description:"Some frameworks allow to retry Test execution according to provided conditions (TestNG) or just retry it predefined number of times.",source:"@site/docs/dev-guides/RetriesReporting.mdx",sourceDirName:"dev-guides",slug:"/dev-guides/RetriesReporting",permalink:"/docs/dev-guides/RetriesReporting",draft:!1,unlisted:!1,editUrl:"https://github.com/reportportal/docs/blob/develop/docs/dev-guides/RetriesReporting.mdx",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Rerun developers guide",permalink:"/docs/dev-guides/RerunDevelopersGuide"},next:{title:"Work with reports",permalink:"/docs/category/work-with-reports"}},c={},a=[{value:"Retries reporting",id:"retries-reporting-1",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,n.a)(),...e.components},{MediaViewer:i}=t;return i||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("MediaViewer",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"retries-reporting",children:"Retries reporting"}),"\n",(0,s.jsxs)(t.p,{children:["Some frameworks allow to retry ",(0,s.jsx)(t.code,{children:"Test"})," execution according to provided conditions (TestNG) or just retry it predefined number of times.\nFirst execution is a simple ",(0,s.jsx)(t.code,{children:"TestItem"})," and next ones are called ",(0,s.jsx)(t.code,{children:"Retries"}),".\nIn ReportPortal these items are grouped and displayed as a sequence of executions for the same ",(0,s.jsx)(t.code,{children:"Test"}),":"]}),"\n",(0,s.jsx)(i,{src:r(63670),alt:"Retry"}),"\n",(0,s.jsxs)(t.p,{children:["When you click on the ",(0,s.jsx)(t.code,{children:"retries"})," link you can switch between ",(0,s.jsx)(t.code,{children:"Retries"})," and see their logs:"]}),"\n",(0,s.jsx)(i,{src:r(7600),alt:"RetrySwitch"}),"\n",(0,s.jsxs)(t.p,{children:["On the ",(0,s.jsx)(t.code,{children:"Log view"})," you can also switch between ",(0,s.jsx)(t.code,{children:"Retries"}),":"]}),"\n",(0,s.jsx)(i,{src:r(26035),alt:"Retry View"}),"\n",(0,s.jsx)(t.h2,{id:"retries-reporting-1",children:"Retries reporting"}),"\n",(0,s.jsxs)(t.p,{children:["Common child ",(0,s.jsx)(t.code,{children:"Test item"})," request (",(0,s.jsx)(t.a,{href:"/dev-guides/ReportingDevelopersGuide",children:"check reporting dev guide"}),") looks like:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:'curl --header "Content-Type: application/json" \\\n     --header "Authorization: Bearer 039eda00-b397-4a6b-bab1-b1a9a90376d1" \\\n     --request POST \\\n     --data \'{"name":"example step","startTime":"1574423237000","type":"step","launchUuid":"<launch uuid>","description":"Item that should be retried"}\' \\\n     http://rp.com/api/v1/rp_project/item/<parent uuid>\n'})}),"\n",(0,s.jsx)(t.p,{children:"With body:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "name": "example step",\n  "startTime": "1574423237000",\n  "type": "step",\n  "launchUuid": "<launch uuid>",\n  "description": "Item that should be retried"\n}\n'})}),"\n",(0,s.jsx)(t.p,{children:"And response:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "id": "uuid-of-the-first-step"\n}\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Request for a ",(0,s.jsx)(t.code,{children:"retry"})," looks the same, but has field ",(0,s.jsx)(t.code,{children:"retry=true"}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "name": "example step",\n  "startTime": "1574423237100",\n  "type": "step",\n  "launchUuid": "<launch uuid>",\n  "description": "Item that should be retried",\n  "retry": true\n}\n'})}),"\n",(0,s.jsxs)(t.p,{children:["To be displayed as a ",(0,s.jsx)(t.code,{children:"retry"})," reported ",(0,s.jsx)(t.code,{children:"Test item"})," should have the same ",(0,s.jsx)(t.code,{children:"name"}),", ",(0,s.jsx)(t.code,{children:"parentUuid"}),", ",(0,s.jsx)(t.code,{children:"launchUuid"})," and ",(0,s.jsx)(t.code,{children:"uniqueId"})," (if you provided it explicitly).\nIf one of mentioned fields is not matched (for example ",(0,s.jsx)(t.code,{children:"Test item"})," with the same ",(0,s.jsx)(t.code,{children:"name"})," but different ",(0,s.jsx)(t.code,{children:"uniqueId"})," and vise versa) ",(0,s.jsx)(t.code,{children:"Test item"}),"s won't be grouped as retries.\nAlso ",(0,s.jsx)(t.code,{children:"Test item"})," with type ",(0,s.jsx)(t.code,{children:"Suite"})," cannot be reported as a ",(0,s.jsx)(t.code,{children:"retry"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["Retries handling triggered only if ",(0,s.jsx)(t.code,{children:"Test item"})," has ",(0,s.jsx)(t.code,{children:"retry=true"})," flag in the request. For example:"]}),"\n",(0,s.jsxs)(t.p,{children:["First request will trigger retries handling, but if it's the first reported ",(0,s.jsx)(t.code,{children:"Test item"})," it won't be a ",(0,s.jsx)(t.code,{children:"retry"}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "name": "example step",\n  "startTime": "1574423237100",\n  "type": "step",\n  "launchUuid": "<launch uuid>",\n  "description": "Item that should be retried",\n  "retry": true\n}\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Second request won't trigger retries handling, because ",(0,s.jsx)(t.code,{children:"retry=false"})," is specified (or this field isn't provided) in the request:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "name": "example step",\n  "startTime": "1574423237100",\n  "type": "step",\n  "launchUuid": "<launch uuid>",\n  "description": "Item that should be retried",\n  "retry": false\n}\n'})}),"\n",(0,s.jsxs)(t.p,{children:["As a result 2 separate ",(0,s.jsx)(t.code,{children:"Test items"})," will be displayed, so ORDER of sent requests matters (if send this items in reversed order they will be grouped as ",(0,s.jsx)(t.code,{children:"retries"}),")."]}),"\n",(0,s.jsxs)(t.p,{children:["In ReportPortal the only ",(0,s.jsx)(t.code,{children:"Test item"})," from the ",(0,s.jsx)(t.code,{children:"Retries"})," group that has statistics and can have an ",(0,s.jsx)(t.code,{children:"issue"})," attached is the one with max ",(0,s.jsx)(t.code,{children:"startTime"}),".\nIn previous requests ",(0,s.jsx)(t.code,{children:"startTime"})," was ",(0,s.jsx)(t.code,{children:"1574423237000"})," for the first one and ",(0,s.jsx)(t.code,{children:"1574423237100"})," for the second one, so the second one is a 'main' ",(0,s.jsx)(t.code,{children:"Test Item"}),"\nwith statistics and ",(0,s.jsx)(t.code,{children:"issue"})," (if attached)."]})]})}function h(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},63670:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});const s=r.p+"assets/images/Retry-036ea7e05f17de6d64470618243094c3.png"},7600:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});const s=r.p+"assets/images/RetrySwitch-396ec4bcd92e9a59e0c3430b48b47c21.png"},26035:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});const s=r.p+"assets/images/RetryView-2afe84b464175f73581526daa4f6749d.png"}}]);