"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[6509],{3472:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"installation-steps/DeployWithDocker","title":"Deploy with Docker","description":"Make your test automation reporting more portable. Reduce the risk of configuration issues with your test reporting tool using Docker.","source":"@site/docs/installation-steps/DeployWithDocker.md","sourceDirName":"installation-steps","slug":"/installation-steps/DeployWithDocker","permalink":"/docs/installation-steps/DeployWithDocker","draft":false,"unlisted":false,"editUrl":"https://github.com/reportportal/docs/blob/develop/docs/installation-steps/DeployWithDocker.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"sidebar_label":"Deploy with Docker","description":"Make your test automation reporting more portable. Reduce the risk of configuration issues with your test reporting tool using Docker."},"sidebar":"docs","previous":{"title":"Hardware Requirements","permalink":"/docs/installation-steps/HardwareRequirements"},"next":{"title":"Deploy without Docker","permalink":"/docs/installation-steps/DeployWithoutDocker"}}');var s=n(74848),t=n(28453);const i={sidebar_position:3,sidebar_label:"Deploy with Docker",description:"Make your test automation reporting more portable. Reduce the risk of configuration issues with your test reporting tool using Docker."},l="Deploy with Docker",c={},a=[{value:"Install Docker",id:"install-docker",level:2},{value:"Deploy ReportPortal with Docker",id:"deploy-reportportal-with-docker",level:2},{value:"Optional Customisation",id:"optional-customisation",level:2}];function d(e){const o={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.header,{children:(0,s.jsx)(o.h1,{id:"deploy-with-docker",children:"Deploy with Docker"})}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.em,{children:(0,s.jsx)(o.strong,{children:"This is the installation guide for Linux, Mac, and Windows."})})}),"\n",(0,s.jsx)(o.p,{children:"ReportPortal can be easily deployed using Docker Compose."}),"\n",(0,s.jsx)(o.h2,{id:"install-docker",children:"Install Docker"}),"\n",(0,s.jsx)(o.p,{children:"Docker is supported by all major Linux distributions, MacOS and Windows."}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"https://www.docker.com/get-started",children:"Download"})," Docker"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"https://docs.docker.com/compose/install/",children:"Download"})," Docker Compose"]}),"\n"]}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsxs)(o.p,{children:["\u26a0\ufe0f Recomended change resources limits at least ",(0,s.jsx)(o.strong,{children:"2"})," CPU ",(0,s.jsx)(o.strong,{children:"5"})," GB RAM for Docker Desktop: ",(0,s.jsx)(o.a,{href:"https://docs.docker.com/desktop/settings/mac/#advanced",children:"MAC"})," | ",(0,s.jsx)(o.a,{href:"https://docs.docker.com/desktop/settings/windows/#advanced",children:"Windows"})," | ",(0,s.jsx)(o.a,{href:"https://docs.docker.com/desktop/settings/linux/#advanced",children:"Linux"})]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"deploy-reportportal-with-docker",children:"Deploy ReportPortal with Docker"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsxs)(o.li,{children:["Download the latest ReportPortal Docker Compose file from ",(0,s.jsx)(o.a,{href:"https://github.com/reportportal/reportportal/blob/master/docker-compose.yml",children:"here"}),". You can make it by run the following command:"]}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"curl -LO https://raw.githubusercontent.com/reportportal/reportportal/master/docker-compose.yml\n"})}),"\n",(0,s.jsxs)(o.p,{children:["Ensure you override the UAT Service environment variable ",(0,s.jsx)(o.code,{children:"RP_INITIAL_ADMIN_PASSWORD"}),"."]}),"\n",(0,s.jsxs)(o.ol,{start:"2",children:["\n",(0,s.jsx)(o.li,{children:"Start the application using the following command:"}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"docker-compose -p reportportal up -d --force-recreate\n"})}),"\n",(0,s.jsx)(o.p,{children:"Where:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"-p reportportal"})," adds project prefix 'reportportal' to all containers"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"up"})," creates and starts containers"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"-d"})," daemon mode"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"--force-recreate"})," Re-creates containers if there any"]}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"Useful commands:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"docker-compose logs"})," shows logs from all containers"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"docker logs <;container_name>"})," shows logs from selected container"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"docker ps -a | grep \"reportportal_\" | awk '{print $1}' | xargs docker rm -f"})," Deletes all ReportPortal containers"]}),"\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.strong,{children:"docker-compose down"})}),"\n"]}),"\n",(0,s.jsxs)(o.ol,{start:"3",children:["\n",(0,s.jsxs)(o.li,{children:["Open your web browser with an IP address of the deployed environment at port ",(0,s.jsx)(o.strong,{children:"8080"})]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["Use the following ",(0,s.jsx)(o.strong,{children:"login\\pass"})," to access:"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["Default User: ",(0,s.jsx)(o.code,{children:"default\\1q2w3e"})]}),"\n",(0,s.jsxs)(o.li,{children:["Administrator: ",(0,s.jsx)(o.code,{children:"superadmin\\erebus"})]}),"\n"]}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsx)(o.p,{children:"\u26a0\ufe0f Please change the admin password for better security"}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"optional-customisation",children:"Optional Customisation"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsx)(o.li,{children:"Expose Docker Volumes to the file system"}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"Give the right permissions to the OpenSearch data folder using the following commands:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:"mkdir -p data/opensearch\nchmod 775 data/opensearch\nchgrp 1000 data/opensearch\n"})}),"\n",(0,s.jsxs)(o.ol,{start:"2",children:["\n",(0,s.jsx)(o.li,{children:"PostgreSQL Performance Tuning"}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:'Depending on your hardware configuration and the parameters of your system, you can additionally optimize your PostgreSQL performance by adding the following parameters to the "command" option in the Docker compose file:'}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-bash",children:" -c effective_io_concurrency=\n -c shared_buffers=\n -c max_connections=\n -c effective_cache_size=\n -c maintenance_work_mem=\n -c random_page_cost=\n -c seq_page_cost= \n -c min_wal_size= \n -c max_wal_size=\n -c max_worker_processes=\n -c max_parallel_workers_per_gather=\n"})}),"\n",(0,s.jsxs)(o.p,{children:["Please choose to set the values of these variables that are right for your system. You can also change the PostgreSQL host by passing a new value to the ",(0,s.jsx)(o.code,{children:"POSTGRES_SERVER"})," environment ",(0,s.jsx)(o.a,{href:"/installation-steps-advanced/AdditionalConfigurationParameters",children:"variable"}),"."]}),"\n",(0,s.jsxs)(o.p,{children:["More info can be found at the following ",(0,s.jsx)(o.a,{href:"/installation-steps/HardwareRequirements#5-postgresql-performance-tuning",children:"link"})]})]})}function h(e={}){const{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,o,n)=>{n.d(o,{R:()=>i,x:()=>l});var r=n(96540);const s={},t=r.createContext(s);function i(e){const o=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function l(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(t.Provider,{value:o},e.children)}}}]);