"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[1904],{6081:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var o=n(85893),r=n(11151);const s={},a="How to get an access token in ReportPortal",i={id:"reportportal-configuration/HowToGetAnAccessTokenInReportPortal",title:"How to get an access token in ReportPortal",description:"There are two ways to authorize in the ReportPortal API:",source:"@site/docs/reportportal-configuration/HowToGetAnAccessTokenInReportPortal.mdx",sourceDirName:"reportportal-configuration",slug:"/reportportal-configuration/HowToGetAnAccessTokenInReportPortal",permalink:"/docs/reportportal-configuration/HowToGetAnAccessTokenInReportPortal",draft:!1,unlisted:!1,editUrl:"https://github.com/reportportal/docs/blob/develop/docs/reportportal-configuration/HowToGetAnAccessTokenInReportPortal.mdx",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Integration via plugin",permalink:"/docs/reportportal-configuration/IntegrationViaPlugin"},next:{title:"Authorization",permalink:"/docs/reportportal-configuration/authorization/"}},c={},l=[{value:"1. Authorization with user\u2019s login and password",id:"1-authorization-with-users-login-and-password",level:2},{value:"2. Authorization with user&#39;s API Key (for agents)",id:"2-authorization-with-users-api-key-for-agents",level:2}];function d(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components},{MediaViewer:s}=t;return s||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("MediaViewer",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"how-to-get-an-access-token-in-reportportal",children:"How to get an access token in ReportPortal"}),"\n",(0,o.jsx)(t.p,{children:"There are two ways to authorize in the ReportPortal API:"}),"\n",(0,o.jsx)(t.h2,{id:"1-authorization-with-users-login-and-password",children:"1. Authorization with user\u2019s login and password"}),"\n",(0,o.jsxs)(t.p,{children:["This is the main and ",(0,o.jsx)(t.strong,{children:"recommended way"})," to get access to ReportPortal API."]}),"\n",(0,o.jsx)(t.p,{children:"Make the following HTTP request to get user's access token using login and password:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"POST <report_portal_url>/uat/sso/oauth/token\n\nBODY with parameters:\ngrant_type: password\nusername: <username>\npassword: <password> \n"})}),"\n",(0,o.jsx)(s,{src:n(46786),alt:"Authorization to ReportPortal Testops with user\u2019s login and password"}),"\n",(0,o.jsx)(t.p,{children:"Or you can use the following curl request:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-curl",children:'curl --header "Content-Type: application/x-www-form-urlencoded" \\\n     --request POST \\\n     --data "grant_type=password&username=<username>&password=<password>" \\\n     --user "ui:uiman" \\\n     <report_portal_url>/uat/sso/oauth/token\n'})}),"\n",(0,o.jsx)(t.p,{children:"Then you will receive a response with an access token:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'{\n     "access_token": <access_token>,\n     "token_type": "bearer",\n     "expires_in": <token_lifetime_ms>,\n     "refresh_token": <refresh_token>,\n     ...\n}\n'})}),"\n",(0,o.jsx)(t.p,{children:"Now you can use \u201caccess_token\u201d with any request to API by sending it as HTTP Authorization header:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-http",children:"HTTP Header:\nAuthorization: Bearer <access_token>\n\n"})}),"\n",(0,o.jsx)(t.h2,{id:"2-authorization-with-users-api-key-for-agents",children:"2. Authorization with user's API Key (for agents)"}),"\n",(0,o.jsx)(t.p,{children:"Another method involves using the API Key found on the user's Profile page."}),"\n",(0,o.jsx)(t.p,{children:"The API Key is a unique token that grants access to the ReportPortal REST API."}),"\n",(0,o.jsx)(t.p,{children:"To use it, log in and navigate to the Profile page, then find the API Keys tab. If you\u2019ve previously integrated agents using UUID, it has been converted to a Legacy API Key at the moment of migration to newest version and it remains valid and operational."}),"\n",(0,o.jsx)(t.admonition,{type:"note",children:(0,o.jsx)(t.p,{children:"It will continue to work even if you generate new API Keys."})}),"\n",(0,o.jsx)(t.p,{children:"Thus, you can use several API keys at the same time. And revoke unused, expired or publicly exposed keys."}),"\n",(0,o.jsx)(s,{src:n(53486),alt:"Authorization with user's API Key (for agents)"}),"\n",(0,o.jsx)(t.p,{children:'To generate a new API key in the ReportPortal app, click on the "Generate API Key" button.'}),"\n",(0,o.jsx)(t.p,{children:"You are free to assign any name to this API key, as long as it is unique and consists of 1 to 40 characters. Keep in mind that duplicate API key names are not allowed."}),"\n",(0,o.jsx)(t.p,{children:"The system will automatically prefix the generated API key with its assigned name for easy identification. If the API key name contains spaces or underscores, these will be replaced by hyphens in the API key prefix."}),"\n",(0,o.jsx)(t.p,{children:"It's crucial to understand that the API key will be visible only at the point of creation. We strongly recommend copying and securely storing it for future use, as it will be impossible to retrieve later. This practice aligns with stringent security measures and standards."}),"\n",(0,o.jsx)(s,{src:n(85344),alt:"API Keys"}),"\n",(0,o.jsx)(t.p,{children:"You have the ability to create multiple API keys for various purposes, such as for automation or for integration with third-party services. However, it's important to note that all API keys generated from the user's Profile page are functionally equivalent from the permissions standpoint."}),"\n",(0,o.jsx)(t.p,{children:"Users can also revoke an API key at any time. Upon revocation, all related information will be removed from the database, and the revoked API key will no longer be usable."}),"\n",(0,o.jsx)(t.p,{children:"An API key functions similarly to a regular token. When making requests to the ReportPortal API, simply include it in the HTTP Authorization header as follows:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-http",children:"HTTP Header:<br />\nAuthorization: Bearer <access_token>\n"})}),"\n",(0,o.jsx)(s,{src:n(76842),alt:"How to use API Key"}),"\n",(0,o.jsx)(t.admonition,{type:"note",children:(0,o.jsx)(t.p,{children:"Please be aware that this type of token is specifically designed for use by ReportPortal client tools (agents). We do not recommend using it to provide direct access to API endpoints."})})]})}function p(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},76842:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});const o=n.p+"assets/images/APIKeyUsing-5c6d31aa71abaafa8c7b7cf2f0478b81.png"},46786:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});const o=n.p+"assets/images/AccessToken1-3532d99465a7eab2f5324de85f65597b.png"},53486:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});const o=n.p+"assets/images/LegacyAPIKey-1a2f0785ac76880fe940d4947e2f6652.png"},85344:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});const o=n.p+"assets/images/NewAPIKeys-897a3764fc447092a383e01afd2152e1.png"},11151:(e,t,n)=>{n.d(t,{Z:()=>i,a:()=>a});var o=n(67294);const r={},s=o.createContext(r);function a(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);