"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[18696],{78061:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>d});var s=n(85893),l=n(11151);const r={sidebar_position:5,sidebar_label:"Deploy with Kubernetes"},i="Deploy with Kubernetes",a={id:"installation-steps/deploy-with-kubernetes/index",title:"Deploy with Kubernetes",description:"Prerequisites",source:"@site/docs/installation-steps/deploy-with-kubernetes/index.md",sourceDirName:"installation-steps/deploy-with-kubernetes",slug:"/installation-steps/deploy-with-kubernetes/",permalink:"/docs/installation-steps/deploy-with-kubernetes/",draft:!1,unlisted:!1,editUrl:"https://github.com/reportportal/docs/blob/develop/docs/installation-steps/deploy-with-kubernetes/index.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,sidebar_label:"Deploy with Kubernetes"},sidebar:"docs",previous:{title:"Deploy without Docker",permalink:"/docs/installation-steps/DeployWithoutDocker"},next:{title:"Amazon ALB + NGINX Ingress Controller",permalink:"/docs/installation-steps/deploy-with-kubernetes/AmazonALBNGINXIngressController"}},o={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installing the Chart",id:"installing-the-chart",level:2},{value:"Uninstalling the Chart",id:"uninstalling-the-chart",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Install the chart with dependencies",id:"install-the-chart-with-dependencies",level:3},{value:"Install from sources",id:"install-from-sources",level:3},{value:"Install specific version",id:"install-specific-version",level:3}];function c(e){const t={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"deploy-with-kubernetes",children:"Deploy with Kubernetes"}),"\n",(0,s.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:"The minimal requirements for a ReportPortal 1-node solution are 2 CPUs and 6Gi of memory."})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Kubernetes v1.26+"}),"\n",(0,s.jsx)(t.li,{children:"Helm Package Manager v3.4+"}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"installing-the-chart",children:"Installing the Chart"}),"\n",(0,s.jsx)(t.p,{children:"Add the official ReportPortal Helm Chart repository:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"helm repo add reportportal https://reportportal.io/kubernetes && helm repo update reportportal\n"})}),"\n",(0,s.jsx)(t.p,{children:"Install the chart:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'helm install my-release --set uat.superadminInitPasswd.password="MyPassword" reportportal/reportportal\n'})}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:"Upon the initial installation and the first login of the SuperAdmin, they will be required to create a unique initial password, distinct from the default password provided in the ReportPortal installation documentation. Failure to do so will result in the Auth service not starting."})}),"\n",(0,s.jsx)(t.h2,{id:"uninstalling-the-chart",children:"Uninstalling the Chart"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"helm uninstall my-release \n"})}),"\n",(0,s.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(t.h3,{id:"install-the-chart-with-dependencies",children:"Install the chart with dependencies"}),"\n",(0,s.jsx)(t.p,{children:"ReportPortal relies on several essential dependencies, without which it cannot function properly. It is feasible to substitute these dependencies with available On-Premise or Cloud alternatives."}),"\n",(0,s.jsx)(t.p,{children:"The following table lists the configurable parameters of the chart and their default values"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Default"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"postgresql.install"})}),(0,s.jsx)(t.td,{children:"Allow PostgreSQL Bitnami Helm Chart to be installed as a dependency"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"true"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"rabbitmq.install"})}),(0,s.jsx)(t.td,{children:"Allow RabbitmQ Helm Bitnami Chart to be installed as a dependency"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"true"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"opensearch.install"})}),(0,s.jsx)(t.td,{children:"Allow Open Search Helm Chart to be installed as a dependency"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"true"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"minio.install"})}),(0,s.jsx)(t.td,{children:"Allow MinIO Helm Chart to be installed as a dependency"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"true"})})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"These dependencies are integrated into the distribution by default. To deactivate them, specify each parameter using the --set key=value[,key=value] argument to helm install. For example:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"helm install my-release \\\n  --set postgresql.install=fasle \\\n  --set database.endpoint=my-postgresql.host.local \\\n  --set database.port=5432 \\\n  --set database.user=my-user \\\n  --set database.password=my-password \\\n  reportportal/reportportal\n"})}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:"If you disable install dependencies, you must provide new values (e.g., host, port, username, etc) for your predeployed dependencies."})}),"\n",(0,s.jsxs)(t.p,{children:["All configuration variables are presented in the ",(0,s.jsx)(t.a,{href:"https://github.com/reportportal/kubernetes/blob/master/values.yaml",children:"value.yaml"})," file."]}),"\n",(0,s.jsx)(t.h3,{id:"install-from-sources",children:"Install from sources"}),"\n",(0,s.jsx)(t.p,{children:"For fetching chart dependencies, use the command:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"helm dependency build .\n"})}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsxs)(t.p,{children:["This command fetches all the dependencies ",(0,s.jsx)(t.a,{href:"https://github.com/reportportal/kubernetes/blob/master/Chart.yaml",children:"required"})," by the chart."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"To install the chart directly from local sources, use:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'helm install my-release --set uat.superadminInitPasswd.password="MyPassword" ./reportportal\n'})}),"\n",(0,s.jsx)(t.h3,{id:"install-specific-version",children:"Install specific version"}),"\n",(0,s.jsx)(t.p,{children:"To search for available versions of a chart, use:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"helm search repo reportportal --versions\n"})}),"\n",(0,s.jsx)(t.p,{children:"To install a specific version of a chart, use:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'helm install my-release \\\n  --set uat.superadminInitPasswd.password="MyPassword" \\\n  reportportal/reportportal \\\n  --version 23.2\n'})})]})}function h(e={}){const{wrapper:t}={...(0,l.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},11151:(e,t,n)=>{n.d(t,{Z:()=>a,a:()=>i});var s=n(67294);const l={},r=s.createContext(l);function i(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);